üíá‚Äç‚ôÄÔ∏è Telegram Beauty Bot
üåü –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∏–∂–∫–∏, —É–∫–ª–∞–¥–∫–∏ –∏ –¥—Ä—É–≥–∏–µ –±—å—é—Ç–∏-—É—Å–ª—É–≥–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Google Calendar. –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–ª—è —Å–∞–ª–æ–Ω–∞, —Ç–∞–∫ –∏ –¥–ª—è —á–∞—Å—Ç–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞.
üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

    ‚úÖ –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ (—Å—Ç—Ä–∏–∂–∫–∞, —É–∫–ª–∞–¥–∫–∞, –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ, –±—Ä–æ–≤–∏ –∏ –¥—Ä.)

    ‚úÖ –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø–∏—Å–∏

    ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –º–∞—Å—Ç–µ—Ä–æ–º

    ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

    ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google –ö–∞–ª–µ–Ω–¥–∞—Ä—ë–º (–∑–∞–ø–∏—Å–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –º–∞—Å—Ç–µ—Ä–∞)

    ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å

    ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∫–ª–∏–µ–Ω—Ç—É

    ‚úÖ –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏

üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

    Python 3.10+

    Aiogram 3.x

    PostgreSQL ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π

    SQLAlchemy + Alembic ‚Äî ORM –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

    Redis ‚Äî FSM (–º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π) –∏ –∫–µ—à

    Docker + docker-compose ‚Äî —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

    Google Calendar API ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

üöÄ Deployment & Run (Docker)
1) –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

# –∫–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Mr-Shams86/beauty_bot.git
cd beauty_bot

# —Å–æ–∑–¥–∞—ë–º .env –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env
# –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env: BOT_TOKEN, ADMIN_ID, GCAL_CALENDAR_ID –∏ —Ç.–¥.

# –ø–æ–º–µ—Å—Ç–∏—Ç—å –∫–ª—é—á —Å–µ—Ä–≤–∏—Å-–∞–∫–∫–∞—É–Ω—Ç–∞
mkdir -p secrets
# —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è gcal-service-account.json
# –∏ –ª–µ–∂–∞—Ç—å –≤ ./secrets/gcal-service-account.json

2) –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

# –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
docker-compose build --no-cache

# –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

3) –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

–ú–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—ã—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ entrypoint.sh, –Ω–æ –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é:

docker-compose exec bot alembic upgrade head

4) –õ–æ–≥–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

# —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f bot

# –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–æ—Ç–∞
docker-compose restart bot

# –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down

üìñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
–ö–æ–º–∞–Ω–¥–∞	–û–ø–∏—Å–∞–Ω–∏–µ
/start	–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
/add_appointment	–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
/appointments	–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
/get_id	–£–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID


üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

üì¶ beauty_bot
‚îú‚îÄ‚îÄ alembic/              # –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ env.py
‚îÇ   ‚îî‚îÄ‚îÄ versions/         # –∏—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ 0001_create_appointments.py
‚îÇ
‚îú‚îÄ‚îÄ alembic.ini           # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
‚îú‚îÄ‚îÄ bot.py                # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py             # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ database.py           # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
‚îú‚îÄ‚îÄ docker-compose.yml    # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
‚îú‚îÄ‚îÄ Dockerfile            # Docker-–æ–±—Ä–∞–∑ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ entrypoint.sh         # –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ handlers/             # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ admin.py          # –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ client.py         # –ª–æ–≥–∏–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ keyboards.py          # Inline/Reply-–∫–Ω–æ–ø–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ middlewares/          # –∫–∞—Å—Ç–æ–º–Ω—ã–µ middleware
‚îÇ   ‚îî‚îÄ‚îÄ throttling.py     # –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt      # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README.md             # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ secrets/              # üîí —Å–µ–∫—Ä–µ—Ç—ã (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git)
‚îÇ   ‚îî‚îÄ‚îÄ gcal-service-account.json
‚îÇ
‚îú‚îÄ‚îÄ services/             # —Ä–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ appointments.py   # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ calendar.py       # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Calendar
‚îÇ
‚îú‚îÄ‚îÄ utils/                # –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ helpers.py        # –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ logging.py        # –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ
‚îî‚îÄ‚îÄ structure.txt         # –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
